---
import { Image } from 'astro:assets';
import EasterEgg from './EasterEgg.astro';

const educationPath = [
  {
    school: "BUT Informatique",
    institution: "IUT d'Aix-Marseille, site d'Arles",
    period: "2022 - 2025",
    description: "Formation universitaire de 3 ans en informatique, spécialisation en administration système et développement. Acquisition de compétences techniques approfondies en programmation, réseaux, bases de données et gestion de projets informatiques.",
    image: "/iut-arles.webp",
    imageAlt: "IUT d'Arles",
    current: true
  },
  {
    school: "Bac Général avec mention Bien",
    institution: "Lycée Frédéric Mistral, Avignon",
    period: "2019 - 2022",
    description: "Baccalauréat général obtenu avec mention Bien. Parcours enrichi par la section européenne Mathématiques-Anglais, permettant de suivre des cours de mathématiques en anglais et de développer une double compétence linguistique et scientifique. Cette formation m'a permis d'acquérir une solide base en sciences tout en développant une aisance en anglais technique, particulièrement utile dans le domaine de l'informatique.",
    image: "/lycee-mistral.webp",
    imageAlt: "Lycée Frédéric Mistral"
  },
];

const futureEducation = {
  school: "École d'Ingénieur",
  institution: "Spécialisation Cybersécurité / Admin Système",
  period: "2025 - 2028",
  description: "Projet d'études en école d'ingénieur pour approfondir mes connaissances en cybersécurité et administration système. Objectif de développer une expertise pointue dans la sécurisation des infrastructures et la gestion des systèmes complexes.",
  image: "/future-studies.jpg",
  imageAlt: "Image représentative des études futures"
};
---

<div class="space-y-12 my-16">
  <h2 class="text-3xl font-medium lg:text-4xl tracking-tight text-primary dark:text-white mb-8">
    Parcours
  </h2>

  <!-- Future Education -->
  <div class="relative group">
    <div class="absolute inset-0 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg blur-lg opacity-25 group-hover:opacity-100 transition duration-500"></div>
    <div class="relative bg-zinc-900 border-2 border-zinc-800 p-8 rounded-lg">
      <div class="flex items-center gap-4 mb-4">
        <div class="h-12 w-12 flex items-center justify-center bg-purple-600/20 rounded-lg">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-purple-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path d="M12 14l9-5-9-5-9 5 9 5z" />
            <path d="M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z" />
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 14l9-5-9-5-9 5 9 5zm0 0l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14zm-4 6v-7.5l4-2.222" />
          </svg>
        </div>
        <div>
          <h3 class="text-xl font-bold text-white">{futureEducation.school}</h3>
          <p class="text-zinc-400">{futureEducation.institution}</p>
          <span class="inline-flex items-center rounded-md bg-purple-400/10 px-2 py-1 text-sm font-medium text-purple-400 ring-1 ring-inset ring-purple-400/30 mt-2">
            {futureEducation.period}
          </span>
          <button 
            id="easter-egg-trigger"
            class="ml-2 inline-flex items-center rounded-md bg-gray-400/10 px-2 py-1 text-sm font-medium text-gray-400 ring-1 ring-inset ring-gray-400/30 hover:cursor-text"
          >
            Projet futur
          </button>
        </div>
      </div>
      <p class="text-zinc-400 text-justify">{futureEducation.description}</p>
    </div>
  </div>

  <!-- Current and Past Education -->
  {educationPath.map((education, index) => (
    <div class="relative">
      <div class={`flex flex-col md:flex-row ${index % 2 === 0 ? 'md:flex-row' : 'md:flex-row-reverse'} gap-8 items-center`}>
        <div class="w-full md:w-1/2">
          <div class="relative group">
            <div class="absolute inset-0 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg blur opacity-25 group-hover:opacity-100 transition duration-500"></div>
            <img
              src={education.image}
              alt={education.imageAlt}
              class="relative rounded-lg w-full h-64 object-cover border-2 border-zinc-800"
            />
          </div>
        </div>
        <div class="w-full md:w-1/2 space-y-4">
          <div class="flex items-center gap-4">
            <div class="h-12 w-12 flex items-center justify-center bg-purple-600/20 rounded-lg">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-purple-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
              </svg>
            </div>
            <div>
              <h3 class="text-xl font-bold text-white">{education.school}</h3>
              <p class="text-zinc-400">{education.institution}</p>
            </div>
          </div>
          <span class="inline-flex items-center rounded-md bg-purple-400/10 px-2 py-1 text-sm font-medium text-purple-400 ring-1 ring-inset ring-purple-400/30">
            {education.period}
          </span>
          {education.current && (
            <span class="ml-2 inline-flex items-center rounded-md bg-green-400/10 px-2 py-1 text-sm font-medium text-green-400 ring-1 ring-inset ring-green-400/30">
              En cours
            </span>
          )}
          <p class="text-zinc-400 text-justify">{education.description}</p>
        </div>
      </div>
    </div>
  ))}
</div>

<EasterEgg />

<script>
  const triggerButton = document.getElementById('easter-egg-trigger');
  if (triggerButton) {
    triggerButton.addEventListener('click', () => {
      if (typeof window.triggerEasterEgg === 'function') {
        window.triggerEasterEgg();
      }
    });
  }
</script>